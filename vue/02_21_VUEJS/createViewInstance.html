<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create a View Instance & JavaScript Class (Instance, Function)</title>
    <style>
        table {
            width: 500px;
            margin: 50px auto;
        }
        table th, td {
            border: 1px solid gray;
            height: 50px;
            text-align: center;
        }
        table#tableAddr td:nth-child(2) {
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>리터럴(Literal) 방식 클래스 인스턴스 만들기</h1>
    <h2 style="text-align: center;">주소부</h2>
    <table id='tableAddr'></table><hr>
    <table id='tableGrade'></table>
    <table id='tableCafe'></table>

    
    <script>
        var vue = {
            cnt: 0,
            el: '<h1>프로퍼티(멤버변수) 템플릿</h1>',
            method: ['피자', '닭칼국수', '김밥', '라면', '스파게티'],
            main: {
                student: [
                    {
                        num: 1,
                        name: '이혜원',
                        kor: 100,
                        eng: 100,
                        mat: 100
                    },
                    {
                        num: 2,
                        name: '이종욱',
                        kor: 100,
                        eng: 95,
                        mat: 95
                    },
                    {
                        num: 3,
                        name: '이민경',
                        kor: 100,
                        eng: 100,
                        mat: 95
                    },
                    {
                        num: 4,
                        name: '이지원',
                        kor: 100,
                        eng: 100,
                        mat: 100
                    }
                ],
                address: [
                    {
                        name: '이혜원',
                        addr: 'Yeosu-dong'
                    },
                    {
                        name: '이종욱',
                        addr: 'Bogugot-li'
                    },
                    {
                        name: '이민경',
                        addr: 'Juyeop-dong'
                    },
                    {
                        name: '이지원',
                        addr: 'Yeusu-dong'
                    }
                ]
            },
            init: function() {
                this.cnt = 500;
                this.el += '<h2>프로퍼티 (멤버변수)에 템플릿 내용 추가</h2>';
                console.log('cnt : ' + this.cnt);
                console.log('el : ' + this.el);
            },
            compute: function() {
                var txt = ''; // 출력 내용 보관하는 변수
                var $table = document.querySelector('#tableAddr'); // $ 붙이면 템플릿 변수
                
                // 주소부 템플릿에 출력 + 반복문 이용
                txt = '<tr><th>이름</th><th>주소</th></tr>';

                // Javascript 객체 배열처리
                // function(엘리먼트 태그, 인엑스, 배열)
                // el은 각 배열의 요소 0번째 배열, 1번째 배열 등등..
                // index는 0, 1, 2, 3, ...
                // arr은 배열 전체
                this.main.address.forEach(function(el, index, arr) {
                    console.log('배열처리' + el + index + arr);
                    txt += '<tr><td>' + el.name + '</td><td>' + el.addr + '</td></tr>';
                });

                $table.innerHTML = txt; // 테이블에 데이터 출력

                txt = '';
                $table = document.querySelector('#tableGrade');
                txt = '<tr><th>이름</th><th>총 성적</th></tr>';
                this.main.student.forEach(function(el, index, arr) {
                    var total = el.kor + el.eng + el.mat;
                    txt += '<tr><td>' + el.name + '</td><td>' + total + '</td></tr>'
                });
                
                $table.innerHTML = txt;



                console.log('method : ' + this.method);
                console.log('main : ' + this.main.student[0].name);

                var tot = this.main.student[0].kor + this.main.student[0].eng + this.main.student[0].mat;
                console.log('total : ' + tot); // ECMA Script 5 [ES5]
                console.log(`total : ${tot}`); // ECMA Script 6 [ES6]

                // 주소부
            },
            run: function() {
                this.init();
                this.compute();
            }

        }

        vue.init(); // vue 인스턴스 안에 init() 이라는 메서드 (멤버함수) 실행
        vue.compute();

        var objProject = {
            a: 100,
            el: 'Vue Framework',
            data: {
                cafe: [ {
                        name: 'PAIK`S COFFEE',
                        baverage: 'Ice Americano'
                    },
                    {
                        name: 'Starbucks',
                        baverage: 'Cool Lime'
                    },
                    {
                        name: 'Coffee Bean',
                        baverage: 'Vanilla Macchiato'
                    },
                    {
                        name: 'EDIYA',
                        baverage: 'Mint Choco'
                    }
                ]
            },
            method1: function() {
                this.a = 500;
                console.log(`a : ${this.a}`);
            },
            method2: function() {
                this.el += ' Training';
                console.log(this.el);
                console.log(this.a);
                console.log(this.data.cafe);
                console.log(this.data.cafe[0].name + '에서 파는 ' + this.data.cafe[0].baverage + '도 맛있네?');
                console.log(this.data.cafe[1].name + '는 ' + this.data.cafe[1].baverage + '가 맛있지');
            },
            init: function() {
                this.method1();
                this.method2();
            }
        };

        objProject.init();


    </script>
</body>
</html>